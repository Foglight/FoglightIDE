<?xml version="1.0" encoding="UTF-8"?>
<module xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="3-015" display-name="data" last-entity-id="25" parent="system:development_export">
    <relevant-role name="Administrator"/>
    <composite-view id="1" display-name="Export Topology Data" ts="1292320941052" component="wcf.grid2">
        <uuid>6b6bedca-5458-4292-b333-3134bd052bce</uuid>
        <purpose name="dashboard"/>
        <size width="0" height="0"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
        </inputs>
        <context>
            <entry key="exportDefinition">
                <create-data-object-rv>
                    <create-data-object type="development_export_data:DataExportQuery" storage="session" id="export-GlobalExportDef"/>
                </create-data-object-rv>
            </entry>
        </context>
        <flow/>
        <tree-config>
            <property name="pageOptions">
                <property name="pageStyleOptions">
                    <property name="style">
                        <enum value="descriptive"/>
                    </property>
                    <property name="pageTitle">
                        <string xml:space="preserve"><![CDATA[Export Topology Data]]></string>
                    </property>
                    <property name="description">
                        <string xml:space="preserve"><![CDATA[Please select a Object or Query to export and define which Objects need to be included in the Export.]]></string>
                    </property>
                </property>
            </property>
        </tree-config>
        <window id="1" view="system:development_export_data.2">
            <size/>
            <tree-config>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="valign">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
                <property name="vweight">
                    <integer value="1"/>
                </property>
            </tree-config>
        </window>
        <window id="2" view="system:development_export_data.19">
            <size height="30"/>
            <tree-config>
                <property name="row">
                    <integer value="1"/>
                </property>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
            </tree-config>
        </window>
    </composite-view>
    <composite-view id="2" display-name="DataExportInner" ts="1292251730149" public="false" component="wcf.grid2">
        <uuid>843e186e-7d91-4204-a137-bef2dc125409</uuid>
        <purpose name="page"/>
        <purpose name="pagelet"/>
        <size width="0" height="0"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
        </inputs>
        <flow/>
        <tree-config/>
        <window id="0" view="system:development_export_data.4">
            <size/>
            <tree-config>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="valign">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
                <property name="vweight">
                    <integer value="1"/>
                </property>
                <property name="showTitle">
                    <boolean value="true"/>
                </property>
                <property name="showBorder">
                    <boolean value="true"/>
                </property>
            </tree-config>
        </window>
        <window id="1" view="system:development_export_data.9">
            <size/>
            <tree-config>
                <property name="row">
                    <integer value="1"/>
                </property>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="valign">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
                <property name="vweight">
                    <integer value="1"/>
                </property>
                <property name="showTitle">
                    <boolean value="true"/>
                </property>
                <property name="showBorder">
                    <boolean value="true"/>
                </property>
            </tree-config>
        </window>
    </composite-view>
    <composite-view id="4" display-name="DataExportRootObjects" ts="1296136584441" public="false" component="wcf.grid2">
        <uuid>899bbd1b-acec-477d-b534-4a666594dd73</uuid>
        <purpose name="pagelet"/>
        <size width="0" height="0"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
        </inputs>
        <flow/>
        <tree-config/>
        <window id="0" view="nested">
            <size/>
            <tree-config>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="valign">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
                <property name="vweight">
                    <integer value="1"/>
                </property>
            </tree-config>
            <view id="nested" display-name="nv)Objects" ts="1296136584337" public="false" component="wcf.table.row-table">
                <size width="300" height="300"/>
                <inputs>
                    <entry key="timeRange" data-type="wcf:TimeRange"/>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
                </inputs>
                <flow/>
                <tree-config>
                    <property name="rows">
                        <function-rv id="system:development_export_data.3">
                            <context-rv input-key="exportDefinition"/>
                        </function-rv>
                    </property>
                    <property name="columns">
                        <list-item>
                            <property name="value">
                                <context-rv input-key="currentRow" path="longName" renderer-id="system:wcf_common_ui_table.2"/>
                            </property>
                            <property name="id">
                                <string xml:space="preserve"><![CDATA[c_0]]></string>
                            </property>
                            <property name="cellAlignment">
                                <property name="horizontal">
                                    <enum value="left"/>
                                </property>
                            </property>
                        </list-item>
                        <list-item>
                            <property name="value">
                                <context-rv input-key="currentRow" path="topologyTypeName" renderer-id="system:wcf_common_ui_table.2"/>
                            </property>
                            <property name="id">
                                <string xml:space="preserve"><![CDATA[c_1]]></string>
                            </property>
                            <property name="cellAlignment">
                                <property name="horizontal">
                                    <enum value="left"/>
                                </property>
                            </property>
                        </list-item>
                    </property>
                    <property name="actionGroups">
                        <list-item>
                            <property name="actions">
                                <list-item>
                                    <property name="icon">
                                        <icon value="system:system.41"/>
                                    </property>
                                    <property name="label">
                                        <string xml:space="preserve"><![CDATA[edit Query]]></string>
                                    </property>
                                    <property name="reaction">
                                        <popup id="system:development_export_data.6" type="modal"/>
                                    </property>
                                </list-item>
                            </property>
                        </list-item>
                    </property>
                </tree-config>
            </view>
        </window>
        <window id="3" view="nested">
            <size/>
            <tree-config>
                <property name="row">
                    <integer value="1"/>
                </property>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="minWidth">
                    <integer value="300"/>
                </property>
                <property name="minHeight">
                    <integer value="30"/>
                </property>
            </tree-config>
            <view id="nested" display-name="(Nested View 4)" ts="1292257413406" public="false" component="wcf.bean-input.checkbox">
                <size width="20" height="20"/>
                <inputs>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
                </inputs>
                <flow/>
                <tree-config>
                    <property name="label">
                        <string xml:space="preserve"><![CDATA[include contained objects ?]]></string>
                    </property>
                    <property name="updatePolicy">
                        <enum value="immediate"/>
                    </property>
                    <property name="pathToValue">
                        <string xml:space="preserve"><![CDATA[includeContainments]]></string>
                    </property>
                </tree-config>
            </view>
        </window>
    </composite-view>
    <view id="5" display-name="QueryEditor" ts="1292248056361" public="false" component="wcf.bean-input.textarea">
        <uuid>bf030223-9051-4018-9838-fece4f8ed6c4</uuid>
        <purpose name="dialog"/>
        <purpose name="page"/>
        <purpose name="pagelet"/>
        <size width="200" height="100"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
        </inputs>
        <context>
            <entry key="query">
                <context-rv input-key="exportDefinition" path="query"/>
            </entry>
        </context>
        <flow/>
        <tree-config>
            <property name="rows">
                <integer value="20"/>
            </property>
            <property name="cols">
                <integer value="80"/>
            </property>
            <property name="pathToValue">
                <string xml:space="preserve"><![CDATA[query]]></string>
            </property>
        </tree-config>
    </view>
    <view id="6" display-name="QueryEditor" ts="1292249486253" public="false" component="wcf.form">
        <uuid>56dbdb7c-5584-4540-b1cd-903a07840952</uuid>
        <purpose name="dialog"/>
        <purpose name="page"/>
        <purpose name="pagelet"/>
        <size width="400" height="300"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
            <entry key="query" data-type="wcf:String" usage="internal">
                <context-rv input-key="exportDefinition" path="query"/>
            </entry>
        </inputs>
        <flow/>
        <tree-config>
            <property name="view">
                <view-ref value="system:development_export_data.7"/>
            </property>
            <property name="actions">
                <list-item>
                    <property name="text">
                        <string xml:space="preserve"><![CDATA[save]]></string>
                    </property>
                    <property name="reaction">
                        <previous update="context">
                            <context>
                                <entry key="exportDefinition">
                                    <function-rv id="system:development_export_data.8">
                                        <context-rv input-key="exportDefinition"/>
                                        <context-rv input-key="query"/>
                                    </function-rv>
                                </entry>
                            </context>
                        </previous>
                    </property>
                </list-item>
            </property>
        </tree-config>
    </view>
    <view id="7" display-name="QueryDialogTxt" ts="1292247958217" public="false" component="wcf.input.textarea">
        <uuid>a23dfddd-5edb-4240-900e-99124371eefe</uuid>
        <purpose name="pagelet"/>
        <size width="200" height="100"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="query" data-type="wcf:String" usage="optional" implicit="true"/>
        </inputs>
        <generated-context output-key="value" custom-key="query"/>
        <flow>
            <on action="update">
                <update/>
            </on>
        </flow>
        <tree-config>
            <property name="showApply">
                <boolean value="false"/>
            </property>
            <property name="cols">
                <integer value="80"/>
            </property>
        </tree-config>
    </view>
    <composite-view id="9" display-name="DataExport Types" ts="1296136547595" public="false" component="wcf.grid2">
        <uuid>205f03bd-03b7-4b31-81c2-736cbd63be23</uuid>
        <purpose name="pagelet"/>
        <size width="0" height="0"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
        </inputs>
        <flow/>
        <tree-config/>
        <window id="0" view="nested">
            <size/>
            <tree-config>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="valign">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
                <property name="vweight">
                    <integer value="1"/>
                </property>
            </tree-config>
            <view id="nested" display-name="nv)TypesTable" ts="1296136547518" public="false" component="wcf.table.row-table">
                <size width="300" height="300"/>
                <inputs>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
                    <entry key="selRows" data-type="wcf:String" list="true" usage="optional" implicit="true"/>
                </inputs>
                <flow>
                    <on action="rowsSelection">
                        <generated-context output-key="selectedRows" custom-key="selRows"/>
                        <update/>
                    </on>
                </flow>
                <tree-config>
                    <property name="rows">
                        <context-rv input-key="exportDefinition" path="typeList"/>
                    </property>
                    <property name="columns">
                        <list-item>
                            <property name="value">
                                <context-rv input-key="currentRow"/>
                            </property>
                            <property name="id">
                                <string xml:space="preserve"><![CDATA[c_0]]></string>
                            </property>
                            <property name="header">
                                <string xml:space="preserve"><![CDATA[TopologyType]]></string>
                            </property>
                        </list-item>
                    </property>
                    <property name="selectionConfiguration">
                        <property name="autoSelectPolicy">
                            <enum value="none"/>
                        </property>
                    </property>
                    <property name="actionGroups">
                        <list-item>
                            <property name="actions">
                                <list-item>
                                    <property name="icon">
                                        <icon value="system:system.40"/>
                                    </property>
                                    <property name="label">
                                        <string xml:space="preserve"><![CDATA[select Type(s) to add]]></string>
                                    </property>
                                    <property name="reaction">
                                        <popup id="system:development_export_data.11"/>
                                    </property>
                                </list-item>
                            </property>
                        </list-item>
                    </property>
                    <property name="selectionActions">
                        <list-item>
                            <property name="icon">
                                <icon value="system:system.76"/>
                            </property>
                            <property name="label">
                                <string xml:space="preserve"><![CDATA[remove]]></string>
                            </property>
                            <property name="reaction">
                                <update>
                                    <context>
                                        <entry key="exportDefinition">
                                            <function-rv id="system:development_export_data.13">
                                                <context-rv input-key="exportDefinition"/>
                                                <context-rv input-key="selRows"/>
                                            </function-rv>
                                        </entry>
                                    </context>
                                </update>
                            </property>
                        </list-item>
                    </property>
                </tree-config>
            </view>
        </window>
    </composite-view>
    <view id="11" display-name="TypeChooser" ts="1292253960801" public="false" component="wcf.table.row-table">
        <uuid>d080bc2f-237f-41f9-8d63-be3b21e77368</uuid>
        <purpose name="dialog"/>
        <purpose name="pagelet"/>
        <size width="300" height="300"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
            <entry key="clearSelect" data-type="wcf:String" list="true" usage="internal">
                <null-rv/>
            </entry>
            <entry key="selTypes" data-type="wcf:String" list="true" usage="optional" implicit="true"/>
        </inputs>
        <flow>
            <on action="rowsSelection">
                <generated-context output-key="selectedRows" custom-key="selTypes"/>
                <update/>
            </on>
        </flow>
        <tree-config>
            <property name="rows">
                <function-rv id="system:development_export_data.10"/>
            </property>
            <property name="columns">
                <list-item>
                    <property name="value">
                        <context-rv input-key="currentRow"/>
                    </property>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[c_0]]></string>
                    </property>
                    <property name="header">
                        <string xml:space="preserve"><![CDATA[Typename]]></string>
                    </property>
                </list-item>
            </property>
            <property name="selectionConfiguration">
                <property name="autoSelectPolicy">
                    <enum value="none"/>
                </property>
            </property>
            <property name="selectionActions">
                <list-item>
                    <property name="icon">
                        <icon value="system:utiliconset.6"/>
                    </property>
                    <property name="label">
                        <string xml:space="preserve"><![CDATA[add to export]]></string>
                    </property>
                    <property name="reaction">
                        <update>
                            <context>
                                <entry key="exportDefinition">
                                    <function-rv id="system:development_export_data.12">
                                        <context-rv input-key="exportDefinition"/>
                                        <context-rv input-key="selTypes"/>
                                    </function-rv>
                                </entry>
                                <entry key="selTypes">
                                    <context-rv input-key="clearSelect"/>
                                </entry>
                            </context>
                        </update>
                    </property>
                </list-item>
            </property>
            <property name="searchingConfiguration">
                <property name="enabled">
                    <boolean value="true"/>
                </property>
                <property name="simpleSearchPosition">
                    <enum value="leftIfNoAction"/>
                </property>
            </property>
        </tree-config>
    </view>
    <view id="15" display-name="DataExportSimulation" ts="1292337858664" public="false" component="wcf.table.tree-table">
        <uuid>70108fdc-29f8-4d01-8f8b-dd6da9560243</uuid>
        <purpose name="dialog"/>
        <purpose name="diagnostic"/>
        <purpose name="menu"/>
        <purpose name="page"/>
        <purpose name="pagelet"/>
        <purpose name="summary"/>
        <size width="500" height="420"/>
        <inputs>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
        </inputs>
        <flow/>
        <tree-config>
            <property name="root">
                <function-rv id="system:development_export_data.3">
                    <context-rv input-key="exportDefinition"/>
                </function-rv>
            </property>
            <property name="displayType">
                <data-object-type datasource-type="foglight-5" data-type="TopologyObject"/>
            </property>
            <property name="dataTypeChildren">
                <list-item>
                    <property name="type">
                        <data-object-type datasource-type="foglight-5" data-type="TopologyObject"/>
                    </property>
                    <property name="explicitChildren">
                        <function-rv id="system:development_export_data.14">
                            <context-rv input-key="explicitChildrenCurrentNode"/>
                            <context-rv input-key="exportDefinition"/>
                        </function-rv>
                    </property>
                </list-item>
            </property>
            <property name="columns">
                <list-item>
                    <property name="value">
                        <context-rv input-key="currentNode" path="name"/>
                    </property>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[c_0]]></string>
                    </property>
                </list-item>
                <list-item>
                    <property name="value">
                        <context-rv input-key="currentNode" path="longName"/>
                    </property>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[c_1]]></string>
                    </property>
                </list-item>
                <list-item>
                    <property name="value">
                        <function-rv id="system:development_export_data.24">
                            <context-rv input-key="currentNode"/>
                            <context-rv input-key="exportDefinition"/>
                        </function-rv>
                    </property>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[c_3]]></string>
                    </property>
                    <property name="header">
                        <string xml:space="preserve"><![CDATA[object Level]]></string>
                    </property>
                </list-item>
                <list-item>
                    <property name="value">
                        <context-rv input-key="currentNode" path="topologyTypeName"/>
                    </property>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[c_2]]></string>
                    </property>
                </list-item>
            </property>
            <property name="searchingConfiguration">
                <property name="enabled">
                    <boolean value="true"/>
                </property>
            </property>
            <property name="popupOptions">
                <property name="usePreferredWidth">
                    <boolean value="true"/>
                </property>
                <property name="usePreferredHeight">
                    <boolean value="true"/>
                </property>
            </property>
        </tree-config>
    </view>
    <composite-view id="17" display-name="DataExportWizard_name" ts="1292323365787" public="false" component="wcf.grid2">
        <uuid>f91ed247-9f4a-4c51-ac3d-2bc786ec421e</uuid>
        <purpose name="pagelet"/>
        <size width="0" height="0"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportWizardData"/>
        </inputs>
        <flow/>
        <tree-config>
            <property name="title">
                <string xml:space="preserve"><![CDATA[enter Name]]></string>
            </property>
        </tree-config>
        <window id="0" view="nested">
            <size width="150"/>
            <tree-config/>
            <view id="nested" display-name="lbl)" ts="1292323150307" public="false" component="wcf.label">
                <size width="200" height="20"/>
                <inputs>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportWizardData"/>
                </inputs>
                <flow/>
                <tree-config>
                    <property name="label">
                        <string-rv renderer-id="system:development_export.70">
                            <value xml:space="preserve"><![CDATA[Please enter a Name for this Data Export. Please be aware that it is allowed to choose a name that already exists but in this case the existing export definition will be changed.]]></value>
                        </string-rv>
                    </property>
                </tree-config>
            </view>
        </window>
        <window id="1" view="nested">
            <size/>
            <tree-config>
                <property name="column">
                    <integer value="1"/>
                </property>
                <property name="valign">
                    <enum value="stretch"/>
                </property>
                <property name="vweight">
                    <integer value="1"/>
                </property>
            </tree-config>
            <view id="nested" display-name="sep)" ts="1292323241665" public="false" component="wcf.separator">
                <size width="1" height="1"/>
                <tree-config>
                    <property name="direction">
                        <enum value="vertical"/>
                    </property>
                </tree-config>
            </view>
        </window>
        <window id="2" view="nested">
            <size/>
            <tree-config>
                <property name="column">
                    <integer value="2"/>
                </property>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
                <property name="minWidth">
                    <integer value="200"/>
                </property>
            </tree-config>
            <view id="nested" display-name="nv)Name" ts="1292323340067" public="false" component="wcf.bean-input.text">
                <size width="20" height="20"/>
                <inputs>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportWizardData"/>
                </inputs>
                <flow/>
                <tree-config>
                    <property name="fieldWidth">
                        <integer value="50"/>
                    </property>
                    <property name="pathToValue">
                        <string xml:space="preserve"><![CDATA[ciName]]></string>
                    </property>
                </tree-config>
            </view>
        </window>
    </composite-view>
    <view id="18" display-name="generic Data Export" ts="1295285975272" priority="p9" primary-input-key="car" component="wcf.wizard">
        <uuid>00065ece-7b2a-4132-9514-147aca0e3c29</uuid>
        <purpose name="dialog"/>
        <purpose name="dataView"/>
        <custom-purpose name="CISelector"/>
        <size width="800" height="600"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportWizardData" usage="internal">
                <create-data-object-rv>
                    <create-data-object type="development_export_data:DataExportWizardData" storage="none"/>
                </create-data-object-rv>
            </entry>
            <entry key="car" data-type="foglight-5:IDE_CAR_ExportContainer"/>
        </inputs>
        <flow/>
        <tree-config>
            <property name="cards">
                <list-item>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[name]]></string>
                    </property>
                    <property name="view">
                        <view-ref value="system:development_export_data.17"/>
                    </property>
                </list-item>
                <list-item>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[root]]></string>
                    </property>
                    <property name="view">
                        <view-ref value="system:development_export_data.4"/>
                    </property>
                </list-item>
                <list-item>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[types]]></string>
                    </property>
                    <property name="view">
                        <view-ref value="system:development_export_data.9"/>
                    </property>
                </list-item>
                <list-item>
                    <property name="id">
                        <string xml:space="preserve"><![CDATA[summary]]></string>
                    </property>
                    <property name="view">
                        <view-ref value="system:development_export_data.20"/>
                    </property>
                    <property name="finishReaction">
                        <previous update="context">
                            <context>
                                <entry key="car">
                                    <function-rv id="system:development_export_data.21">
                                        <context-rv input-key="car"/>
                                        <context-rv input-key="exportDefinition"/>
                                    </function-rv>
                                </entry>
                            </context>
                        </previous>
                    </property>
                </list-item>
            </property>
            <property name="popupOptions">
                <property name="usePreferredWidth">
                    <boolean value="true"/>
                </property>
                <property name="usePreferredHeight">
                    <boolean value="true"/>
                </property>
            </property>
        </tree-config>
    </view>
    <composite-view id="19" display-name="ExportActionsRow" ts="1292322675729" public="false" component="wcf.grid2">
        <uuid>da875639-d3d2-4a1f-a687-0dde4a16076a</uuid>
        <size width="0" height="0"/>
        <inputs>
            <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
        </inputs>
        <flow/>
        <tree-config/>
        <window id="0" view="nested">
            <size height="30"/>
            <tree-config>
                <property name="align">
                    <enum value="right"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
            </tree-config>
            <view id="nested" display-name="btn)Simulate" ts="1292257089006" public="false" component="wcf.input.button">
                <size width="200" height="20"/>
                <inputs>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
                </inputs>
                <flow>
                    <on action="selection">
                        <popup id="system:development_export_data.15"/>
                    </on>
                </flow>
                <tree-config>
                    <property name="label">
                        <string xml:space="preserve"><![CDATA[show Simulation]]></string>
                    </property>
                </tree-config>
            </view>
        </window>
        <window id="1" view="nested">
            <size height="30"/>
            <tree-config>
                <property name="column">
                    <integer value="1"/>
                </property>
                <property name="align">
                    <enum value="center"/>
                </property>
            </tree-config>
            <view id="nested" display-name="nv)ExportXML" ts="1292320823753" public="false" component="wcf.input.button">
                <size width="200" height="20"/>
                <inputs>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
                </inputs>
                <flow>
                    <on action="selection">
                        <invoke-task id="system:development_export.63">
                            <context>
                                <entry key="path">
                                    <function-rv id="system:development_export_data.16">
                                        <context-rv input-key="exportDefinition"/>
                                        <string xml:space="preserve"><![CDATA[xml]]></string>
                                    </function-rv>
                                </entry>
                            </context>
                        </invoke-task>
                    </on>
                </flow>
                <tree-config>
                    <property name="label">
                        <string xml:space="preserve"><![CDATA[Download (XML)]]></string>
                    </property>
                </tree-config>
            </view>
        </window>
        <window id="2" view="nested">
            <size height="30"/>
            <tree-config>
                <property name="column">
                    <integer value="2"/>
                </property>
                <property name="align">
                    <enum value="center"/>
                </property>
                <property name="minWidth">
                    <integer value="120"/>
                </property>
            </tree-config>
            <view id="nested" display-name="btn)groovy" ts="1292320941046" public="false" component="wcf.input.button">
                <size width="200" height="20"/>
                <inputs>
                    <entry key="exportDefinition" data-type="development_export_data:DataExportQuery"/>
                </inputs>
                <flow>
                    <on action="selection">
                        <invoke-task id="system:development_export.63">
                            <context>
                                <entry key="path">
                                    <function-rv id="system:development_export_data.16">
                                        <context-rv input-key="exportDefinition"/>
                                        <string xml:space="preserve"><![CDATA[groovy]]></string>
                                    </function-rv>
                                </entry>
                            </context>
                        </invoke-task>
                    </on>
                </flow>
                <tree-config>
                    <property name="label">
                        <string xml:space="preserve"><![CDATA[download (groovy)]]></string>
                    </property>
                </tree-config>
            </view>
        </window>
    </composite-view>
    <composite-view id="20" display-name="DataExportWizard_Summary" ts="1292322292550" public="false" component="wcf.grid2">
        <uuid>778d5709-c1fe-4edc-a895-d28a048076cf</uuid>
        <purpose name="pagelet"/>
        <size width="0" height="0"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="exportDefinition" data-type="development_export_data:DataExportWizardData"/>
        </inputs>
        <flow/>
        <tree-config/>
        <window id="0" view="system:development_export_data.19">
            <size height="50"/>
            <tree-config>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
            </tree-config>
        </window>
    </composite-view>
    <view id="23" display-name="ExportCI_Editor" ts="1292334850556" primary-input-key="definition" component="wcf.form">
        <uuid>0f35c05a-aa8c-4a32-b143-097ef24608b4</uuid>
        <purpose name="dialog"/>
        <purpose name="pagelet"/>
        <size width="700" height="600"/>
        <inputs>
            <entry key="timeRange" data-type="wcf:TimeRange"/>
            <entry key="definition" data-type="foglight-5:IDE_CI_ExpGenericTypes"/>
        </inputs>
        <context>
            <entry key="exportDefinition" evaluated-once="true">
                <function-rv id="system:development_export_data.22">
                    <context-rv input-key="definition"/>
                </function-rv>
            </entry>
        </context>
        <flow/>
        <tree-config>
            <property name="view">
                <view-ref value="system:development_export_data.2"/>
            </property>
            <property name="actions">
                <list-item>
                    <property name="text">
                        <string xml:space="preserve"><![CDATA[Download (XML)]]></string>
                    </property>
                    <property name="reaction">
                        <invoke-task id="system:development_export.63">
                            <context>
                                <entry key="path">
                                    <function-rv id="system:development_export_data.16">
                                        <context-rv input-key="exportDefinition"/>
                                        <string xml:space="preserve"><![CDATA[xml]]></string>
                                    </function-rv>
                                </entry>
                            </context>
                        </invoke-task>
                    </property>
                </list-item>
                <list-item>
                    <property name="text">
                        <string xml:space="preserve"><![CDATA[Download (Groovy)]]></string>
                    </property>
                    <property name="reaction">
                        <invoke-task id="system:development_export.63">
                            <context>
                                <entry key="path">
                                    <function-rv id="system:development_export_data.16">
                                        <context-rv input-key="exportDefinition"/>
                                        <string xml:space="preserve"><![CDATA[groovy]]></string>
                                    </function-rv>
                                </entry>
                            </context>
                        </invoke-task>
                    </property>
                </list-item>
                <list-item>
                    <property name="text">
                        <string xml:space="preserve"><![CDATA[Simulate]]></string>
                    </property>
                    <property name="reaction">
                        <popup id="system:development_export_data.15" type="temporary"/>
                    </property>
                </list-item>
                <list-item>
                    <property name="text">
                        <string-rv renderer-id="system:core_commons.12">
                            <value xml:space="preserve"><![CDATA[Save]]></value>
                        </string-rv>
                    </property>
                    <property name="reaction">
                        <previous update="context">
                            <context>
                                <entry key="erg">
                                    <function-rv id="system:development_export.72">
                                        <context-rv input-key="definition"/>
                                        <context-rv input-key="exportDefinition"/>
                                    </function-rv>
                                </entry>
                            </context>
                        </previous>
                    </property>
                </list-item>
            </property>
            <property name="popupOptions">
                <property name="usePreferredWidth">
                    <boolean value="true"/>
                </property>
                <property name="usePreferredHeight">
                    <boolean value="true"/>
                </property>
            </property>
        </tree-config>
    </view>
    <composite-view id="25" display-name="DataRootSelectorInner" ts="1295018948005" public="false" component="wcf.grid2">
        <uuid>5ff10150-7207-4217-9d41-ee13a661a5c1</uuid>
        <purpose name="dialog"/>
        <purpose name="pagelet"/>
        <size width="800" height="600"/>
        <inputs>
            <entry key="selectedObjects" data-type="foglight-5:DataObject" list="true" usage="internal"/>
        </inputs>
        <flow/>
        <tree-config>
            <property name="popupOptions">
                <property name="usePreferredWidth">
                    <boolean value="true"/>
                </property>
                <property name="usePreferredHeight">
                    <boolean value="true"/>
                </property>
            </property>
        </tree-config>
        <window id="0" view="nested" scrollbars="auto">
            <size/>
            <tree-config>
                <property name="align">
                    <enum value="stretch"/>
                </property>
                <property name="valign">
                    <enum value="stretch"/>
                </property>
                <property name="hweight">
                    <integer value="1"/>
                </property>
                <property name="vweight">
                    <integer value="1"/>
                </property>
                <property name="showBorder">
                    <boolean value="true"/>
                </property>
            </tree-config>
            <view id="nested" display-name="nv)ObjectTree" ts="1295018947851" public="false" component="wcf.table.tree-table">
                <size width="300" height="300"/>
                <inputs>
                    <entry key="selectedObjects" data-type="foglight-5:DataObject" list="true" usage="optional" implicit="true"/>
                </inputs>
                <flow>
                    <on action="nodesSelection">
                        <generated-context output-key="selectedNodes" custom-key="selectedObjects"/>
                        <update/>
                    </on>
                </flow>
                <tree-config>
                    <property name="root">
                        <query-selection-rv query="system:foglight.1"/>
                    </property>
                    <property name="displayType">
                        <data-object-type datasource-type="foglight-5" data-type="DataObject"/>
                    </property>
                    <property name="columns">
                        <list-item>
                            <property name="value">
                                <context-rv input-key="currentNode" cast-ds-type="foglight-5" cast-data-type="TopologyObject" path="name" renderer-id="system:system.max50Chars">
                                    <on-null>
                                        <string-rv>
                                            <value xml:space="preserve"><![CDATA[root]]></value>
                                        </string-rv>
                                    </on-null>
                                </context-rv>
                            </property>
                            <property name="id">
                                <string xml:space="preserve"><![CDATA[c_0]]></string>
                            </property>
                        </list-item>
                        <list-item>
                            <property name="value">
                                <function-rv id="system:development_topology.32">
                                    <context-rv input-key="currentNode"/>
                                </function-rv>
                            </property>
                            <property name="id">
                                <string xml:space="preserve"><![CDATA[c_1]]></string>
                            </property>
                        </list-item>
                    </property>
                    <property name="excludeTypes">
                        <list-item>
                            <data-object-type datasource-type="foglight-5" data-type="Metric"/>
                        </list-item>
                        <list-item>
                            <data-object-type datasource-type="foglight-5" data-type="Alarm"/>
                        </list-item>
                        <list-item>
                            <data-object-type datasource-type="foglight-5" data-type="AlarmStateObservation"/>
                        </list-item>
                        <list-item>
                            <data-object-type datasource-type="foglight-5" data-type="AgentStateObservation"/>
                        </list-item>
                        <list-item>
                            <data-object-type datasource-type="foglight-5" data-type="Observation"/>
                        </list-item>
                    </property>
                    <property name="initContextMaxSearchDepth">
                        <integer value="20"/>
                    </property>
                    <property name="multipleSelection">
                        <property name="showCheckboxes">
                            <boolean value="false"/>
                        </property>
                        <property name="batchedSubmit">
                            <boolean value="false"/>
                        </property>
                    </property>
                    <property name="handleLargeData">
                        <boolean value="false"/>
                    </property>
                </tree-config>
            </view>
        </window>
    </composite-view>
    <script-function id="3" display-name="getExportRootObjects" ts="1292249996668" output-type="foglight-5:TopologyObject" output-list="true">
        <uuid>17d6c384-5c02-4b5d-aa77-938b14f4b4d5</uuid>
        <inputs>
            <input name="queryDefinition" type-name="development_export_data:DataExportQuery"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[println "TESTER\n"

try {
def qs = server.QueryService
println("DEBUG:Executing Query "+"!"+queryDefinition.get("query",null))

def stmt= qs.getQueryDefinition( "!"+queryDefinition.get("query",null))


def erg =  qs.performQuery( stmt).topologyObjects
println "Result:"+erg
return erg
} catch (Throwable t) {

return []}
]]></script>
    </script-function>
    <script-function id="8" display-name="updateQuery" ts="1292249553099" output-type="development_export_data:DataExportQuery" cache-results="true">
        <uuid>4152c0a8-fe6c-4691-93df-58f62a0730dc</uuid>
        <inputs>
            <input name="definition" type-name="development_export_data:DataExportQuery"/>
            <input name="query" type-name="wcf:String"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[definition.store("query",query,null)
println "DEB:Updated to "+query
return definition]]></script>
    </script-function>
    <script-function id="10" display-name="getAllTypeNames" ts="1292251834392" public="false" output-type="wcf:String" output-list="true" cache-results="true">
        <uuid>bcce7d65-138b-4508-9b62-37653edbf2bd</uuid>
        <script xml:space="preserve"><![CDATA[server.TopologyService.getTypeNames()]]></script>
    </script-function>
    <script-function id="12" display-name="addExportTypes" ts="1292253716931" output-type="development_export_data:DataExportQuery" cache-results="true">
        <uuid>1256e67d-3fa8-4f04-add0-30433a063da5</uuid>
        <inputs>
            <input name="definition" type-name="development_export_data:DataExportQuery"/>
            <input name="types" type-name="wcf:String" list="true"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[def typeList = definition.get("typeList",null)
if (typeList == null) typeList = []

def newList = typeList + types 
definition.store("typeList",newList,null)

return definition]]></script>
    </script-function>
    <script-function id="13" display-name="removeExportTypes" ts="1292254011307" output-type="development_export_data:DataExportQuery" cache-results="true">
        <uuid>f02a049e-f425-4678-818b-67cb3ac40699</uuid>
        <inputs>
            <input name="definition" type-name="development_export_data:DataExportQuery"/>
            <input name="types" type-name="wcf:String" list="true"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[def typeList = definition.get("typeList",null)
if (typeList == null) typeList = []

def newList = typeList - types 
definition.store("typeList",newList,null)

return definition]]></script>
    </script-function>
    <script-function id="14" display-name="filterChildObjects" ts="1292335399996" public="false" output-type="foglight-5:DataObject" output-list="true" cache-results="true">
        <uuid>6c601d10-f449-4e4c-a551-6a5111fd00db</uuid>
        <inputs>
            <input name="obj" type-name="foglight-5:DataObject"/>
            <input name="definition" type-name="development_export_data:DataExportQuery"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[def objs = obj.type.properties.findAll{it.isContainment() && it.isMany()}.collect{obj.getList(it)}.flatten()

def dataObject = server.TopologyService.getType("DataObject")
def topologyObject = server.TopologyService.getType("TopologyObject")

def types = definition.get("typeList",null).collect{server.TopologyService.getType(it)}

// only include Containments if this type is a full included type
if (types.find{type->type.isAssignableFrom(obj.type)} == null) objs = []


if (definition.get("includeContainments",null) == false ) objs = objs.findAll { types.find{type->type.isAssignableFrom(it.type)} != null }


// add all Identity
objs +=obj.type.properties.findAll{it.isIdentity() && it.isMany()}.findAll{topologyObject.isAssignableFrom( it.valueType)}.collect{obj.getList(it)}.flatten()
objs +=obj.type.properties.findAll{it.isIdentity() && !it.isMany()}.findAll{topologyObject.isAssignableFrom( it.valueType)}.collect{obj.get(it)}


return objs]]></script>
    </script-function>
    <script-function id="16" display-name="exportData" ts="1292320738381" public="false" output-type="wcf:String" cache-results="true">
        <uuid>385e8521-28c9-4816-8b29-f70aae704e07</uuid>
        <inputs>
            <input name="exportDefinition" type-name="development_export_data:DataExportQuery"/>
            <input name="format" type-name="wcf:String"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[def query = exportDefinition.get("query",null)
def includeContainments = exportDefinition.get("includeContainments",null)
def typeList = exportDefinition.get("typeList",null)

def dir = new File("state"+File.separator+"fglide"+File.separator+"dataExports")
dir.mkdirs();

def output = File.createTempFile("MyFile_", "."+format ,dir)
output.withOutputStream{ os->
	fglide_exportDataCmdlet(query,includeContainments?"true":"false",
  typeList,os,format)

return output.absolutePath


					}
]]></script>
    </script-function>
    <script-function id="21" display-name="addGenericExportToCartridge" ts="1292323505409" public="false" output-type="foglight-5:IDE_CAR_ExportContainer">
        <uuid>dde0a2f2-7ae1-472d-b13a-fc146740d3f7</uuid>
        <inputs>
            <input name="car" type-name="foglight-5:IDE_CAR_ExportContainer"/>
            <input name="exportDefinition" type-name="development_export_data:DataExportWizardData"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[
def addElement(def groupname) {
    def gType = server.TopologyService.getType("IDE_Delegated_Group")

    def group =  server.TopologyService.getObjectShell(gType)
    group.set("container",car)
    group.set("name",groupname)

def createCar = { name ->
    def type = server.TopologyService.getType("IDE_CAR_ExportContainer")
    def obj = server.TopologyService.getObjectShell(type)
    obj.set("name",name)
return obj
}

def carCopy = createCar.call(car.get("name"))
carCopy.getList("definitionGroups").add(group)    

  

     
      def e = server.TopologyService.getObjectShell(server.TopologyService.getType("IDE_CI_ExpGenericTypes"))
       e.set("query", exportDefinition.get("query",null))
       e.set("typeList", exportDefinition.get("typeList",null))
       e.set("includeContainments",exportDefinition.get("includeContainments",null))     

e.set("parent",group)
e.set("ci_id",exportDefinition.get("ciName",null))
   group.getList("includes").add(e)

    
    server.TopologyService.mergeData([group,e,carCopy].flatten())

}

addElement ("DataExport")
return car
]]></script>
    </script-function>
    <script-function id="22" display-name="loadFromGenericExportCI" ts="1292330469199" public="false" output-type="development_export_data:DataExportQuery" cache-results="true">
        <uuid>18886629-480c-4c8f-af3e-a165893123f7</uuid>
        <inputs>
            <input name="export" type-name="foglight-5:IDE_CI_ExpGenericTypes"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[// The following are special reserved parameters which are always available to scripts (see documentation for details)
//
// locale - the locale selected on the browser by the user
// resourceBundle - the java ResourceBundle for the current locale with strings loaded from the module's "strings.properties" file in the public directory
// specificTimeRange - the current specific time range that must be used to get property values from data objects
// functionHelper - the FunctionHelper instance for getting other information 
//
// Uncomment the following line to get a Log instance
org.apache.commons.logging.Log log = org.apache.commons.logging.LogFactory.getLog("function id: " + functionHelper.getFunctionId());

def o = functionHelper.createDataObject("development_export_data:DataExportQuery","none",null)
o.type.properties.each {o.store(it.name,export.get(it.name),null)}





return o
	
]]></script>
    </script-function>
    <script-function id="24" display-name="objectLevel" ts="1292337789784" public="false" output-type="wcf:String" cache-results="true">
        <uuid>153da28f-0bc4-4ad7-bba4-7619cc3f8499</uuid>
        <inputs>
            <input name="obj" type-name="foglight-5:DataObject"/>
            <input name="definition" type-name="development_export_data:DataExportQuery"/>
        </inputs>
        <script xml:space="preserve"><![CDATA[def objs = obj.type.properties.findAll{it.isContainment() && it.isMany()}.collect{obj.getList(it)}.flatten()

def dataObject = server.TopologyService.getType("DataObject")
def topologyObject = server.TopologyService.getType("TopologyObject")

def types = definition.get("typeList",null).collect{server.TopologyService.getType(it)}

if (types.find{type->type.isAssignableFrom(obj.type)} == null) return "Identity Only"
else return "Full Detail"
]]></script>
    </script-function>
    <type-mapping datasource-type="foglight-5" data-type="IDE_CI_ExpGenericTypes" ts="1292332506905">
        <flow tag="edit">
            <popup id="system:development_export_data.23">
                <context>
                    <entry key="definition">
                        <context-rv input-key="IDE_CI_ExpGenericTypes"/>
                    </entry>
                </context>
            </popup>
        </flow>
    </type-mapping>
</module>